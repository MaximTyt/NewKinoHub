@model NewKinoHub.Storage.Entity.Users
<head>
    <link href="~/css/Profil.css" rel="stylesheet" />
</head>

<body>
    <div class="wrapper">
        @*--------------------Начало блока с настройками профиля--------------------*@
        <div id="profil">
            <a href="#"></a>
            <div>
                <form action="" method="post" enctype="multipart/form-data">

                    <label>Никнейм:<sup>*</sup></label><br />
                    <input value=@Model.Nickname type="text" name="name" /><br />
                    <label>Аватарка<sup>*</sup></label><br />
                    <input type="file" name="mainPhoto"><br />

                    <label>Дата рождения<sup>*</sup>: @Model.DateOfBirthday.ToShortDateString()</label><br />
                    <input type="date" id="DataB" name="DataB" /><br />
                    <input type="submit" value="Подтвердить" formaction="~/User/EditAccount">
                </form>
                <a href="#">Выйти</a>
            </div>
        </div>
        @*--------------------Конец блока с настройками профиля--------------------*@
        <table class="tablestyle">
            <tbody>
                <tr>
                    <td>
                        @if (Model.Image != null)
                        {
                            <img class="avasize" src= "data:image/jpeg;base64, @(Convert.ToBase64String(@ViewBag.Image))"/> @*поле с аватаркой пользователя*@
                        }
                        else
                        {
                            <img class="avasize" src="~/lib/images/2.jpeg" /> @*поле с аватаркой пользователя*@
                        }


                        <h3 style="color:white; margin-top:4%;">Nickname: @Model.Nickname </h3>

                        @if (Model.DateOfBirthday.Year!=0001 )
                        {
                            <div>
                                <a class="colortext">Дата рождения: @Model.DateOfBirthday.ToShortDateString()</a>
                            </div>
                        }
                    </td>
                    <td>
                        <div style="margin-top:10px;">
                            <a class="btn" href="#profil">Редактировать профиль</a>
                        </div>
                        <div style="margin-top:10px;">
                            <a class="btn" href=@Url.Action("Logout", "Account")>Выйти из аккаунта</a>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        @if (Model.Favorites != null && Model.Favorites.Medias.Count != 0)
        {
            <h4 class="colortext border-top">Избранное :</h4>
            <div style="margin-top:10px; width:100%;" class="fav_block">

                @*поле с избранными тайтлами*@

                @foreach (var f in Model.Favorites.Medias)
                {
                    <div class="item">
                        <p class="titlenamesize"><a href=@Url.Action("Film", "Films", new { IdFilm = f.MediaID })>@f.Name</a></p>
                        <p><a href=@Url.Action("Film", "Films", new { IdFilm = f.MediaID })><img width="200" class="imagetitle" src=@f.Img></a></p>
                        <a class="btn_delete" style="margin-top:10px;" href=@Url.Action("DeleteFavoriteFilms1", "User", new { id = f.MediaID })>Удалить</a>
                    </div>
                }

            </div>
        }
        else
        {
            <h4 class="colortext">Ваш список с избранным пуст, добавьте что-нибудь</h4>
        }

        @if (Model.Viewed != null && Model.Viewed.Medias.Count != 0)
        {
            <h4 class="colortext border-top">Просмотренное:</h4>
            <div style="margin-top:10px; width:100%;" class="fav_block">

                @*поле с просмотренными тайтлами*@

                @foreach (var f in Model.Viewed.Medias)
                {
                    <div class="item">
                        <p class="titlenamesize"><a href=@Url.Action("Film", "Films", new { IdFilm = f.MediaID })>@f.Name</a></p>
                        <p><a href=@Url.Action("Film", "Films", new { IdFilm = f.MediaID })><img width="200" class="imagetitle" src=@f.Img></a></p>
                        <a class="btn_delete" style="margin-top:10px;" href=@Url.Action("DeleteViewedFilms1", "User", new { id = f.MediaID })>Удалить</a>
                    </div>
                }
            </div>
        }
        else
        {
            <h4 class="colortext">Ваш список с просмотренным пуст, добавьте что-нибудь</h4>
        }
    </div>
</body>